<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="pagecom/includepage :: commonHead('部门管理界面')"></head>
<body>

	<div class="panel panel-style">
		<div class="panel-heading">
			<h3 class="panel-title">
				<i class="fa fa-user-plus" aria-hidden="true"></i> <span>部门管理</span>
			</h3>
		</div>
	</div>

	<div class="content padding-bottom-20 padding-right-10 margin-top-1">
		<div class="col-sm-4">
			<div class="panel panel-style margin-bottom-1"
				style="border: 1px solid transparent;">
				<div class="panel-heading"
					style="background: transparent; padding-bottom: 30px; padding-top: 10px;">

					<div class="panel-actions" style="height: 36px;">
						<div class="form-group ">
							<div class="panel-heading"
								style="padding-right: 0px; padding-left: 0px;">
								<h3 class="panel-title">部门结构</h3>
							</div>
						</div>
						<div class="form-group ">
							<input type="text" class="form-control" placeholder="输入名称搜索"
								onkeyup="search()" id="searchname" style="height: 30px;" />
						</div>
					</div>
				</div>
				<div class="panel-body"
					style="max-height: 500px; overflow-y: auto; width: 100%;">
					<ul id="tree" class="ztree" style="width: 260px; overflow: auto;"></ul>
				</div>
			</div>
		</div>
		<div class="col-sm-8">
				<button id="saveBtn" class="btn btn-default btn-sm" data-type="1"
					onclick="save()">
					<i class="fa fa-plus"></i>&nbsp;新建
				</button>
				<button id="saveBtn" class="btn btn-default btn-sm" data-type="1"
					onclick="del()">
					<i class="fa fa-trash-o"></i>&nbsp;删除
				</button>
				<button id="saveBtn" class="btn btn-default btn-sm" data-type="1"
					onclick="saveOrUpdate()">
					<i class="fa fa-hand-o-up"></i>&nbsp;提交
				</button>
			<div class="panel panel-style" id="forms" style="display: inline;">
				<div class="panel-body">

					<form class="form-horizontal" id="basic">
						<div class="panel-border">
							<div class="form-group margin-top-10">
								<div class="col-sm-2 control-label">
									<label class="star-b">部门名称</label>
								</div>
								<div class="col-sm-8">
									<input type="hidden" id="id" name="id" /> <input type="text"
										class="form-control" id="name" name="name" placeholder="部门名称" />
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-2 control-label">
									<label class="star-b">上级部门</label>
								</div>
								<div class="col-sm-8">
									<input type="hidden" id="parentId" /> <input type="text"
										class="form-control" style="cursor: pointer;" id="parentName"
										name="parentName" onclick="deptTree()" readonly="readonly"
										placeholder="上级部门" />
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-2 control-label">
									<label class="star-b">排序号</label>
								</div>
								<div class="col-sm-8">
									<input type="number" class="form-control" id="orderNum"
										name="orderNum" placeholder="排序号" />
								</div>
							</div>
						</div>
					</form>

				</div>
			</div>
		</div>
	</div>
	<!-- 部门树 -->
	<div class="modal  fade" id="deptLayer" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h5 class="modal-title">选择部门</h5>
				</div>
				<div class="modal-body">
					<ul id="deptTree" class="ztree"></ul>
				</div>
				<div class="modal-footer">
					<input type="button" class="btn btn-primary" onclick="saveDept()"
						value="确定" /> <input type="button" class="btn btn-default"
						data-dismiss="modal" value="返回" />
				</div>
			</div>
		</div>
	</div>
</body>
<script th:src="@{/js/modules/sys/dept.js}"></script>
</html>